<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>🕵️‍♂️ المشهد ثلاثي الأبعاد</title>
<style>
:root{
  --gold:#FFD54A;
  --blue:#0a6bff;
  --glass:rgba(255,255,255,0.06);
}

html, body {
  height: 100%;
  margin: 0;
}

body {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  background: radial-gradient(circle at center, #001428 0%, #000 90%);
  color: var(--gold);
  font-family: "Cairo", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  min-height: 100vh;
  overflow: hidden;
}

/* الصفحة */
.page{
  flex:1;
  width:100%;
  position:relative;
}

/* العنوان */
.section-title{
  width:min(980px,94vw);
  margin:30px auto 10px;
  text-align:center;
  color:var(--gold);
  font-weight:800;
  font-size:clamp(1.05rem,3vw,1.4rem);
  text-shadow:0 0 12px rgba(255,215,0,.25), 0 0 22px rgba(10,107,255,.18);
}

/* واجهة البداية */
.fullscreen-overlay {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at center, rgba(0,10,30,0.95) 0%, rgba(0,0,0,0.98) 90%);
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  z-index: 9999;
  transition: opacity 1s ease;
}
.fullscreen-overlay.hidden {
  opacity: 0;
  pointer-events: none;
}

/* الزر الكبير */
.fullscreen-overlay button {
  background: linear-gradient(145deg, #0d1a35, #000814);
  color: #FFD54A;
  border: 2px solid rgba(255,215,0,.5);
  padding: 30px 60px;
  border-radius: 20px;
  font-size: 1.5rem;
  font-weight: 800;
  letter-spacing: .8px;
  cursor: pointer;
  box-shadow: 0 0 40px rgba(255,215,0,.4), 0 0 80px rgba(10,107,255,.25);
  text-shadow: 0 0 15px rgba(255,215,0,.35);
  transition: all .4s ease;
  animation: glowPulse 2.2s infinite ease-in-out;
}

/* تأثير الإضاءة المتوهجة */
@keyframes glowPulse {
  0% {
    box-shadow: 0 0 30px rgba(255,215,0,.3), 0 0 80px rgba(10,107,255,.15);
    transform: scale(1);
  }
  50% {
    box-shadow: 0 0 60px rgba(255,215,0,.6), 0 0 140px rgba(10,107,255,.35);
    transform: scale(1.05);
  }
  100% {
    box-shadow: 0 0 30px rgba(255,215,0,.3), 0 0 80px rgba(10,107,255,.15);
    transform: scale(1);
  }
}

.fullscreen-overlay button:hover {
  transform: scale(1.08);
  color:#fff;
  box-shadow: 0 0 70px rgba(255,215,0,.8), 0 0 160px rgba(10,107,255,.4);
}

/* iframe */
iframe {
  width: 100%;
  height: 80vh;
  border: none;
  border-radius: 12px;
  box-shadow: 0 0 35px rgba(10,107,255,.25);
}

/* ⚓️ الفوتر */
footer {
  width: 100%;
  color: var(--gold);
  font-size: .95rem;
  text-align: center;
  padding: 12px 0 16px;
  background: linear-gradient(180deg, #0a1630 0%, #050b18 100%);
  border-top: 1px solid rgba(0,120,255,.25);
  box-shadow: inset 0 0 22px rgba(0,120,255,.15), 0 0 18px rgba(0,120,255,.12);
  backdrop-filter: blur(6px);
  margin-top: auto;
}
.nav-btn {
  flex: 1;
  background: linear-gradient(145deg, #0d1a35, #000814);
  color: #FFD54A;
  border: 1px solid rgba(255,215,0,.4);
  padding: 12px 22px;
  font-size: 1rem;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 600;
  letter-spacing: .8px;
  box-shadow: 0 0 20px rgba(10,107,255,.25), inset 0 0 14px rgba(255,215,0,.15);
  transition: all .35s ease;
}
.nav-btn:hover {
  transform: translateY(-2px);
  color: #fff;
  box-shadow: 0 0 28px rgba(255,215,0,.5), inset 0 0 18px rgba(10,107,255,.3);
}
footer span {
  font-size: .95rem;
  color: var(--gold);
  text-shadow: 0 0 8px rgba(255,215,0,.3);
}
</style>
</head>

<body>
<div class="page" id="page">
  <div class="section-title">🔍 المشهد ثلاثي الأبعاد - معاينة مسرح الجريمة</div>

  <!-- نموذج ثلاثي الأبعاد -->
  <iframe id="crime3d"
    src="https://sketchfab.com/models/bda75f27462145efb0ddd121bcdd2c8b/embed?autostart=1&ui_infos=0&ui_watermark=0&transparent=0"
    allow="autoplay; fullscreen; xr-spatial-tracking"
    allowfullscreen>
  </iframe>
</div>

<!-- واجهة البداية -->
<div class="fullscreen-overlay" id="overlay">
  <button id="enterFullscreenBtn">🎥 اضغط للدخول إلى المشهد بملء الشاشة</button>
</div>

<footer>
  <div style="display:flex;justify-content:space-between;align-items:center;gap:60px;max-width:820px;margin:0 auto;padding:10px 20px;">
    <button class="nav-btn" id="prevPage"> السابق</button>
    <span>© أكاديمية شرطة الشارقة 2025</span>
    <button class="nav-btn" id="nextPage">التالي </button>
  </div>
</footer>

<!-- الأصوات -->
<audio id="pageFlip" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_62c8f9853d.mp3"></audio>
<audio id="woosh" src="https://cdn.pixabay.com/download/audio/2022/03/16/audio_72cf4ac4ff.mp3"></audio>

<script>
const page = document.getElementById('page');
const pageFlip = document.getElementById('pageFlip');
const woosh = document.getElementById('woosh');
const overlay = document.getElementById('overlay');
const iframe = document.getElementById('crime3d');

function go(target, dir){
  pageFlip.play().catch(()=>{}); 
  woosh.play().catch(()=>{});
  page.classList.add(dir==='next' ? 'flip-next' : 'flip-prev');
  setTimeout(()=>{ window.location.href = target; }, 1800);
}

document.getElementById('prevPage').addEventListener('click', ()=> 
  go('https://dns3uae-glitch.github.io/crime-book/agents/','prev')
);
document.getElementById('nextPage').addEventListener('click', ()=> 
  go('https://dns3uae-glitch.github.io/crime-book/3d-1/','next')
);

// 🖥️ عند الضغط على المربع الكبير يدخل فول سكرين
document.getElementById('enterFullscreenBtn').addEventListener('click', () => {
  if (iframe.requestFullscreen) {
    iframe.requestFullscreen();
  } else if (iframe.webkitRequestFullscreen) {
    iframe.webkitRequestFullscreen();
  } else if (iframe.mozRequestFullScreen) {
    iframe.mozRequestFullScreen();
  } else if (iframe.msRequestFullscreen) {
    iframe.msRequestFullscreen();
  }

  // إخفاء المربع تدريجيًا
  overlay.classList.add('hidden');
  setTimeout(() => overlay.style.display = 'none', 1000);
});
</script>
</body>
</html>

